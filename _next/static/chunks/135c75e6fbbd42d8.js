(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,l)=>{a.exports=e.r(76562)},78e3,e=>{"use strict";var a=e.i(43476),l=e.i(71645),s=e.i(18566);let t=["Bugece","Biletix","Biletino","Passo","Mobilet","Etkinlik.io","PartyMag","Resident Advisor"];function n(){let e=(0,s.useRouter)(),[n,r]=(0,l.useState)({name:"",slug:"",description:"",date:"",endDate:"",venue:"",image:"",banner:"",lineup:"",capacity:"",status:"draft",channels:[],tickets:[{name:"",price:"",quantity:""}]});function c(e,a){r(l=>({...l,[e]:a}))}function i(e,a,l){r(s=>{let t=[...s.tickets];return t[e]={...t[e],[a]:l},{...s,tickets:t}})}async function d(a){a.preventDefault();let l={...n,slug:n.slug||n.name.toLowerCase().replace(/[^a-z0-9]+/g,"-")};try{(await fetch("/api/events/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok?e.push("/crm/events"):console.error("Failed to create event")}catch(e){console.error("Error creating event:",e)}}return(0,a.jsxs)("div",{className:"p-8 max-w-3xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Create Event"}),(0,a.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block font-semibold",children:"Event Name *"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded",value:n.name,onChange:e=>c("name",e.target.value),required:!0}),(0,a.jsx)("label",{className:"block font-semibold",children:"Slug"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded",value:n.slug,onChange:e=>c("slug",e.target.value),placeholder:"auto-generated-from-name"}),(0,a.jsx)("label",{className:"block font-semibold",children:"Description"}),(0,a.jsx)("textarea",{className:"w-full border p-2 rounded",value:n.description,onChange:e=>c("description",e.target.value),rows:3}),(0,a.jsx)("label",{className:"block font-semibold",children:"Lineup"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded",value:n.lineup,onChange:e=>c("lineup",e.target.value),placeholder:"Artist names separated by comma"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block font-semibold",children:"Start Date *"}),(0,a.jsx)("input",{type:"datetime-local",className:"w-full border p-2 rounded",value:n.date,onChange:e=>c("date",e.target.value),required:!0})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block font-semibold",children:"End Date *"}),(0,a.jsx)("input",{type:"datetime-local",className:"w-full border p-2 rounded",value:n.endDate,onChange:e=>c("endDate",e.target.value),required:!0})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"block font-semibold",children:"Venue *"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded",value:n.venue,onChange:e=>c("venue",e.target.value),required:!0}),(0,a.jsx)("label",{className:"block font-semibold",children:"Image URL"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded",value:n.image,onChange:e=>c("image",e.target.value),placeholder:"https://example.com/image.jpg"}),(0,a.jsx)("label",{className:"block font-semibold",children:"Banner URL"}),(0,a.jsx)("input",{className:"w-full border p-2 rounded",value:n.banner,onChange:e=>c("banner",e.target.value),placeholder:"https://example.com/banner.jpg"}),(0,a.jsx)("label",{className:"block font-semibold",children:"Capacity"}),(0,a.jsx)("input",{type:"number",className:"w-full border p-2 rounded",value:n.capacity,onChange:e=>c("capacity",e.target.value),placeholder:"500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-2",children:"Status"}),(0,a.jsxs)("select",{className:"border p-2 rounded w-full",value:n.status,onChange:e=>c("status",e.target.value),children:[(0,a.jsx)("option",{value:"draft",children:"Draft"}),(0,a.jsx)("option",{value:"published",children:"Published"}),(0,a.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-2",children:"Publish Channels"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:t.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:n.channels.includes(e),onChange:a=>{a.target.checked?c("channels",[...n.channels,e]):c("channels",n.channels.filter(a=>a!==e))}}),e]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block font-semibold mb-2",children:"Tickets"}),n.tickets.map((e,l)=>(0,a.jsxs)("div",{className:"border p-3 rounded mb-2 space-y-2",children:[(0,a.jsx)("input",{className:"w-full border p-2 rounded",placeholder:"Ticket Name",value:e.name,onChange:e=>i(l,"name",e.target.value)}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsx)("input",{type:"number",className:"border p-2 rounded",placeholder:"Price",value:e.price,onChange:e=>i(l,"price",e.target.value)}),(0,a.jsx)("input",{type:"number",className:"border p-2 rounded",placeholder:"Quantity",value:e.quantity,onChange:e=>i(l,"quantity",e.target.value)})]}),n.tickets.length>1&&(0,a.jsx)("button",{type:"button",className:"text-red-600 text-sm",onClick:()=>{r(e=>({...e,tickets:e.tickets.filter((e,a)=>a!==l)}))},children:"Remove Ticket"})]},l)),(0,a.jsx)("button",{type:"button",className:"bg-gray-200 px-3 py-1 rounded",onClick:function(){r(e=>({...e,tickets:[...e.tickets,{name:"",price:"",quantity:""}]}))},children:"+ Add Ticket"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)("button",{type:"button",className:"bg-gray-500 text-white px-6 py-2 rounded-lg",onClick:()=>e.push("/crm/events"),children:"Cancel"}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg",children:"Create Event"})]})]})]})}e.s(["default",()=>n])}]);